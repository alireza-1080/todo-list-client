{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/maya7/OneDrive/Desktop/todo-list-client/components/DashboardHeader.js"],"sourcesContent":["'use client';\r\nimport Image from 'next/image';\r\nimport { redirect } from 'next/navigation';\r\nimport React from 'react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst DashboardHeader = ({ id, firstName, lastName }) => {\r\n  const [isAddTodoOpen, setIsAddTodoOpen] = React.useState(false);\r\n  const [newTodoTitle, setNewTodoTitle] = React.useState('');\r\n\r\n  const addTodoTab = React.useRef(null);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const logoutResponse = await fetch(\r\n        'http://localhost:3100/api/v1/auth/logout',\r\n        {\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      );\r\n\r\n      const logoutResponseData = await logoutResponse.json();\r\n\r\n      if (logoutResponse.status === 200) {\r\n        toast.success(logoutResponseData.message);\r\n\r\n        setTimeout(() => {\r\n          redirect('/auth');\r\n        }, 2000);\r\n      } else {\r\n        console.log(logoutResponseData.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Fetch error:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreateTodo = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const createTodoResponse = await fetch(\r\n        'http://localhost:3100/api/v1/todo/create',\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ title: newTodoTitle, userId: id }),\r\n        }\r\n    );\r\n    \r\n    const createTodoResponseData = await createTodoResponse.json();\r\n\r\n    if (createTodoResponse.status === 201) {\r\n        toast.success(createTodoResponseData.message);\r\n        setNewTodoTitle('');\r\n        setIsAddTodoOpen(false);\r\n\r\n        setTimeout(() => {\r\n            redirect('/dashboard');\r\n        }, 2000);\r\n        } else {\r\n        toast.error(createTodoResponseData.message);\r\n        }\r\n\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    addTodoTab.current.classList.toggle('translate-y-[-140%]', !isAddTodoOpen);\r\n  }, [isAddTodoOpen]);\r\n\r\n  return (\r\n    <div className=\"w-[600px] h-32 bg-white/20 backdrop-blur-3xl rounded-lg shadow-md fixed top-10 flex justify-between items-center px-4 transition\">\r\n      <div className=\"flex gap-1 grow\">\r\n        <h2 className=\"text-xl font-bold\">{firstName}</h2>\r\n        <h2 className=\"text-xl font-bold\">{lastName}</h2>\r\n      </div>\r\n      <div className=\"flex gap-4\">\r\n        <button\r\n          onClick={() => setIsAddTodoOpen(true)}\r\n          className=\"text-white grow bg-green-600 hover:bg-green-700 transition-all rounded-md px-4 py-2\"\r\n        >\r\n          Add Todo\r\n        </button>\r\n        <button\r\n          onClick={handleLogout}\r\n          className=\"text-white grow bg-red-600 hover:bg-red-700 transition-all rounded-md px-4 py-2\"\r\n        >\r\n          Log Out\r\n        </button>\r\n      </div>\r\n      <div\r\n        ref={addTodoTab}\r\n        className=\"absolute top-0 left-0 h-full w-full rounded-lg bg-white  translate-y-[-140%] transition overflow-hidden\"\r\n      >\r\n        <form className=\"bg-gray-800 w-full h-full flex gap-8 items-center p-8 pt-12\">\r\n          <div className=\"grow\">\r\n            <input\r\n              type=\"text\"\r\n              value={newTodoTitle}\r\n              onChange={(e) => setNewTodoTitle(e.target.value)}\r\n              required\r\n              placeholder=\"Todo Title\"\r\n              className=\"w-full p-3 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 bg-gray-700 text-white\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-green-500 text-white p-3 rounded-md hover:bg-green-600 transition duration-300\"\r\n            onClick={handleCreateTodo}\r\n          >\r\n            Add\r\n          </button>\r\n        </form>\r\n\r\n        <Image\r\n          onClick={() => setIsAddTodoOpen(false)}\r\n          src={'/close.png'}\r\n          width={100}\r\n          height={100}\r\n          alt=\"close\"\r\n          className=\"absolute top-3 right-3 w-5 h-5 cursor-pointer\"\r\n        ></Image>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardHeader;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}